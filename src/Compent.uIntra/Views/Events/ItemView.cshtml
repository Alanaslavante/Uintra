@using uIntra.Core.Activity
@using uIntra.Core.Extentions
@model Compent.uIntra.Core.Events.EventExtendedItemModel
@{
    var pinnedClass = Model.IsPinned ? "_pinned" : "";
}
<div class="content__item">
    <div class="row clearfix">
        <div class="col-md-12 content__item-holder @pinnedClass">
            <div class="clearfix">
                @if (@Model.IsPinned)
                {
                    <span class="pinned__item">@Html.Localize("EventsItemView.Pinned.lbl")</span>
                }

                @Html.Action("ItemHeader", "Activity", new { header = Model.HeaderInfo })
            </div>
            <div class="content__item-image"> </div>
            @if (!string.IsNullOrWhiteSpace(Model.ShortDescription))
            {
                <div class="content__item-txt _clamp">
                    <p>@Html.Raw(Model.ShortDescription)</p>
                </div>
            }
            <div class="content__item-images">
                @{ Html.RenderAction("Preview", "LightboxGallery", new { model = Model.LightboxGalleryPreviewInfo }); }
            </div>
            <div class="content__item-feed">
                <div class="content__item-feed-holder">
                    @{ Html.RenderAction("Likes", "Likes", new { likesInfo = Model.LikesInfo }); }
                    @{ Html.RenderAction("Preview", "Comments", new { activityId = Model.Id, link = ViewData.GetActivityDetailsPageUrl(IntranetActivityTypeEnum.Events, Model.Id) }); }
                </div>
                @if (Model.CanSubscribe)
                {
                    Html.RenderAction("Index", "Subscribe", new { subscribe = Model.SubscribeInfo, activityId = Model.Id });
                }
            </div>

        </div>
    </div>
</div> 