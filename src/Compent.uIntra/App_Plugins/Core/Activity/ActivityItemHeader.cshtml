@using uIntra.Core.Extentions
@model uIntra.Core.Activity.IntranetActivityItemHeaderViewModel
@{
    var detailsPageUrl = ViewData.GetActivityDetailsPageUrl(Model.Type, Model.ActivityId);
    var profilePageUrl = ViewData.GetProfilePageUrl().AddIdParameter(Model.Creator.Id);
    var defaultImage = "/Content/images/default-avatar.png";
}

<header class="content__item-heading clearfix">
    <div class="content__item-avatar">
        <a href="@profilePageUrl">
            @if (!String.IsNullOrEmpty(Model.Creator.Photo))
            {
                <img class="content__item-avatar-img" style="width: 60px; height: 60px;" src="@(Model.Creator?.Photo)" />
            }
            else
            {
                <img class="content__item-avatar-img" style="width: 60px; height: 60px;" src="@defaultImage" />
            }
        </a>
    </div>
    <div class="content__item-title-holder">
        <h2 class="content__item-title"><a class="content__item-title-link" href="@detailsPageUrl">@Model.Title</a></h2>
        <p class="content__item-meta">
            @foreach (var date in Model.Dates)
            {
                <span class="content__item-date">@date</span>
                <span class="content__item-divider"> - </span>
            }
            <span class="content__item-category">@Html.Localize(Model.Type)@(Model.Creator != null ? "," : string.Empty)</span>
            @if (Model.Creator != null)
            {
                <a href="@profilePageUrl">
                    <span class="content__item-name">@Model.Creator.DisplayedName</span>
                </a>
            }
        </p>
    </div>
</header>