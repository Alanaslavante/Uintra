<div class="panel" ng-controller="faqPanelController"  validate-panel="control.value" ng-init="init(control)">
    <div class="span12" ng-hide="control.active">
        <h3>FAQ panel{{control.value.title ? (': ' + control.value.title) : ""}}</h3>
    </div>
    
    <div ng-show="control.active">
        <div class="span12"  ng-click="changeActiveQuestion(-1)">
            <div class="m-b-20 _clearfix">
                <b class="span3">Panel title:</b>
                <input class="span9" type="text" name="title" ng-model="control.value.title" required/>
            </div>
            <div class="span12">
                <div class="m-b-20 _clearfix">
                    <b class="span3">Panel description:</b>
                    <tiny-mce class="span9" model="control.value.description" config="rteConfigAlias"></tiny-mce>
                </div>
            </div>
        </div>
    
        <div class="span12" ng-repeat="question in control.value.questions" ng-show="control.active">
        
            <div ng-hide="$index == activeQuestion" ng-click="changeActiveQuestion($index)" style="cursor:pointer;">
                <div class="span3">
                    <h3>Question {{$index + 1}}</h3>
                </div>
                <div class="span9">
                    <h3>{{question.question}}</h3>
                </div>
            </div>

            <div ng-show="$index == activeQuestion">
                <div class="m-b-20 _clearfix">
                    <b class="span3">Question title:</b>
                    <input class="span9" type="text" name="title" ng-model="question.question" required/>
                </div>
                <div class="span12">
                    <div class="m-b-20 _clearfix">
                        <b class="span3">Question answer:</b>
                        <tiny-mce class="span9" model="question.answer" config="rteConfigAlias" required c-required=""></tiny-mce>
                    </div>
                </div>
                <input type="button" class="btn btn-danger" ng-click="removeQuestion(question)" value="Remove this question"/>
            </div>
        </div>
        <input type="button" class="btn btn-success" ng-click="addQuestion()" value="Add question">
    </div>
</div>